

<MyLayout>
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height

		TextInput:
			id: calc_input
			text: "0"
			halign: "right"
			font_size: 65
			size_hint: (1, .15)
			on_touch_down: self.text = ''

		GridLayout:
			cols: 4
			rows: 5

			# Row
			SignButton:
				text: "%"

			Button:
				size_hint: (.2, .2)
				font_size: 32
				text: "C"
				on_press: root.clear()

			Button:
				id: clear
				size_hint: (.2, .2)
				font_size: 32
				text: u"\u00AB"
				on_press: root.remove()

			SignButton:
				text: "/"

			# Row
			CalcNumButton:
				text: "7"

			CalcNumButton:
				text: "8"

			CalcNumButton:
				text: "9"

			SignButton:
				text: "x"

			# Row
			CalcNumButton:
				text: "4"

			CalcNumButton:

				text: "5"

			CalcNumButton:
				text: "6"

			SignButton:
				text: "-"

			# Row
			CalcNumButton:
				text: "1"

			CalcNumButton:
				text: "2"

			CalcNumButton:
				text: "3"

			SignButton:
				text: "+"

			# Row
			Button:
			    size_hint: (.2, .2)
				font_size: 32
				text: "+/-"
				background_color: (157/255, 157/255, 157/255, 1)
				on_press: root.pos_neg()

			CalcNumButton:
				text: "0"

			CalcNumButton:
				text: "."
				on_press: root.dot()



			Button:
				size_hint: (.2, .2)
				font_size: 32
				text: "="
				on_press: root.equals()


<CalcNumButton@Button>
    size_hint: (.2, .2)
    font_size: 32
    background_color: (157/255, 157/255, 157/255, 1)
    on_press: app.root.write_num(self.text)
    #root.button_num_press(self.text)

<SignButton@Button>
    size_hint: (.2, .2)
    font_size: 32
    on_press: app.root.math_sign(self.text)
